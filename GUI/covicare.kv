#:kivy 2.0

# -----------------------Object Properties---------------------------
<Label>:
    font_size: 25

<Button>:
    font_size: 30
    background_color: 0.4, 1, 0.8, 1

# --------------------------Main Screen------------------------------
<MainWindow>:
    name: "main"
    GridLayout:
        cols: 1
        size: root.width, root.height
        Label:
            text: "Welcome to CoviCare"
            font_size: 40

        GridLayout:
            cols: 2
            Button:
                text: "Access Leads"
                on_release:
                    root.manager.current = "accessmenu"
                    root.manager.transition.direction = "left"

            Button:
                text: "Supply Leads"
                on_release:
                    root.manager.current = "supplymenu"
                    root.manager.transition.direction = "left"


<Navigation>:
    name: "navigation"

    GridLayout:
        cols: 1
        Label:
            text: "Choose screen to navigate to:"
            font_size: 40

        GridLayout:
            cols:3
            Button:
                text: "Main Menu"
                on_release:
                    root.manager.current = "main"
                    root.manager.transition.direction= "right"

            Button:
                text: "Access Menu"
                on_release:
                    root.manager.current = "accessmenu"
                    root.manager.transition.direction= "right"

            Button:
                text: "Supply Menu"
                on_release:
                    root.manager.current = "supplymenu"
                    root.manager.transition.direction= "right"


<SupplyMenu>:
    name: "supplymenu"

    supplycity: city

    GridLayout:
        cols: 1
        size: root.width, root.height
        
        GridLayout:
            cols: 2

            Label:
                text: "City: "
                font_size: 30
            TextInput:
                id: city
                multiline: False
        
        GridLayout:
            cols: 4

            Button:
                text: "Medicine"
                on_release:
                    root.manager.transition.direction= "left"
                    root.assigncitym()

            Button:
                text: "Bed"
                on_release:
                    root.manager.transition.direction = "left"
                    root.assigncitybe()

            Button:
                text: "Medical Equipment"
                font_size: 22
                on_release:
                    root.manager.transition.direction = "left"
                    root.assigncitye()

            Button:
                text: "Blood"
                on_release:
                    root.manager.transition.direction = "left"
                    root.assigncitybl()

        Button:
            text: "Back"
            on_release:
                root.manager.current = "main"
                root.manager.transition.direction= "right"


<SupplyMedicine>:
    name: "supplymedicine"
    
    medid: medid
    medname: medname
    medaddress: medaddress
    medstock: medstock
    medprice: medprice
    medcontact: medcontact

    GridLayout:
        cols: 1
        rows: 2
        GridLayout:
            cols: 2
            rows: 6

            Label:
                text: "Medicine ID: "
            TextInput:
                id: medid
                multiline: False

            Label:
                text: "Medicine Name: "
            TextInput:
                id: medname
                multiline: False

            Label:
                text: "Address: "
            TextInput:
                id: medaddress
                multiline: True

            Label:
                text: "Stock: "
            TextInput:
                id: medstock
                multiline: False

            Label:
                text: "Price: "
            TextInput:
                id: medprice
                multiline: False

            Label:
                text: "Contact: "
            TextInput:
                id: medcontact
                multiline: False

        GridLayout:
            cols: 2
            rows: 1
            Button:
                text: "Submit Details"
                on_release:
                    root.manager.transition.direction= "left"
                    root.assignmedicine()

            Button:
                text: "Back"
                on_release:
                    root.manager.current = "supplymenu"
                    root.manager.transition.direction= "right"


<SupplyBed>:
    name: "supplybed"
    
    hospid: hospid
    hospname: hospname
    hospaddress: hospaddress
    bedtype: bedtype
    bedcount: bedcount
    hospcontact: hospcontact
    
    GridLayout:
        cols: 1
        rows: 2
        GridLayout:
            cols: 2
            rows: 6

            Label:
                text: "Hospital ID: "
            TextInput:
                id: hospid
                multiline: False

            Label:
                text: "Hospital Name: "
            TextInput:
                id: hospname
                multiline: False

            Label:
                text: "Address: "
            TextInput:
                id: hospaddress
                multiline: True

            Label:
                text: "Type of Bed: "
            TextInput:
                id: bedtype
                multiline: False

            Label:
                text: "No. of Beds: "
            TextInput:
                id: bedcount
                multiline: False

            Label:
                text: "Contact: "
            TextInput:
                id: hospcontact
                multiline: False

        GridLayout:
            cols: 2
            rows: 1
            Button:
                text: "Submit Details"
                on_release:
                    root.manager.transition.direction= "left"
                    root.assignbed()
            
            Button:
                text: "Back"
                on_release:
                    root.manager.current = "supplymenu"
                    root.manager.transition.direction= "right"


<SupplyEquipment>:
    name: "supplyequipment"
    
    equipid: equipid
    equiptype: equiptype
    equipstock: equipstock
    equipprice: equipprice
    equipcontact: equipcontact
    
    GridLayout:
        cols: 1
        rows: 2
        GridLayout:
            cols: 2
            rows: 5

            Label:
                text: "Equipment ID: "
            TextInput:
                id: equipid
                multiline: False

            Label:
                text: "Equipment Type: "
            TextInput:
                id: equiptype
                multiline: False

            Label:
                text: "Stock: "
            TextInput:
                id: equipstock
                multiline: False

            Label:
                text: "Price: "
            TextInput:
                id: equipprice
                multiline: False

            Label:
                text: "Contact: "
            TextInput:
                id: equipcontact
                multiline: False

        GridLayout:
            cols: 2
            rows: 1
            Button:
                text: "Submit Details"
                on_release:
                    root.manager.transition.direction= "left"
                    root.assignequip()
            
            Button:
                text: "Back"
                on_release:
                    root.manager.current = "supplymenu"
                    root.manager.transition.direction= "right"

<SupplyBlood>:
    name: "supplyblood"
    
    bloodid: bloodid
    bloodname: bloodname
    bloodtype: bloodtype
    bloodcontact: bloodcontact

    GridLayout:
        cols: 1
        rows: 2
        GridLayout:
            cols: 2
            rows: 4

            Label:
                text: "Donor ID: "
            TextInput:
                id: bloodid
                multiline: False

            Label:
                text: "Donor Name: "
            TextInput:
                id: bloodname
                multiline: False

            Label:
                text: "Blood Type: "
            TextInput:
                id: bloodtype
                multiline: False

            Label:
                text: "Contact: "
            TextInput:
                id: bloodcontact
                multiline: False

        GridLayout:
            cols: 2
            rows: 1
            Button:
                text: "Submit Details"
                on_release:
                    root.manager.transition.direction= "left"
                    root.assignblood()
            
            Button:
                text: "Back"
                on_release:
                    root.manager.current = "supplymenu"
                    root.manager.transition.direction= "right"


#------------------------------------------ACCESS---------------------------------------------


<AccessMenu>:
    name: "accessmenu"

    accesscity: city

    GridLayout:
        cols: 1
        size: root.width, root.height
        
        GridLayout:
            cols: 2

            Label:
                text: "City: "
                font_size: 30
            TextInput:
                id: city
                multiline: False
        
        GridLayout:
            cols: 4

            Button:
                text: "Medicine"
                on_release:
                    root.manager.transition.direction= "left"
                    root.assigncitym()

            Button:
                text: "Bed"
                on_release:
                    root.manager.transition.direction= "left"
                    root.assigncitybe()                

            Button:
                text: "Medical Equipment"
                font_size: 22
                on_release:
                    root.manager.transition.direction= "left"
                    root.assigncitye()

            Button:
                text: "Blood"
                on_release:
                    root.manager.transition.direction= "left"
                    root.assigncitybl()

        Button:
            text: "Back"
            on_release:
                root.manager.current = "main"
                root.manager.transition.direction= "right"

<RV>:
    GridLayout:
        rows: 3
        cols: 1
        size: root.width, root.height

        GridLayout:
            cols: 4

            Label:
                text: "Name"
            Label:
                text: "Stock"
            Label:
                text: "Price"
            Label:
                text: "Contact"

        GridLayout:
            cols: 1
            RecycleView:
                viewclass: 'Label'
                data: [{'text': str(x)} for x in root.data_items]
                RecycleGridLayout:
                    default_size_hint: 1, None
                    cols: 4
        GridLayout:
            cols: 1
            Button:
                text: "Back"
                on_release:
                    root.changeapps()